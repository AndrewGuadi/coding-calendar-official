<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Method of the Day - Best Coding Practices and Daily Coding Problems</title>
    <meta name="description" content="Discover the best coding practices, Python programming examples, JavaScript code snippets, and more. Enhance your skills with daily coding problems and advanced programming tips.">
    <meta name="keywords" content="Best Coding Practices, Python Programming Examples, JavaScript Code Snippets, Learn to Code for Free, Web Development Tips, Software Development Techniques, Coding Tutorials for Beginners, Advanced Programming Tips, Daily Coding Problems, How to Improve Coding Skills">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #333;
            color: #00FF00;
        }
        header {
            text-align: center;
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        .dropdown {
            background: black;
            color: #00FF00;
            border: 2px solid #00FF00;
            padding: 10px;
            text-align: center;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 1.2em;
            width: 250px;
        }
        .loading {
            font-size: 1.5em;
            margin-top: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <header>the CODING CALENDAR</header>
    <div class="dropdown-container">
        <select class="dropdown" id="language-select">
            <option>Choose your language:</option>
            {% for language in languages %}
            <option value="{{ language }}">{{ language }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="loading" id="loading">Loading</div>
    <script>
        const loadingText = document.getElementById('loading');
        let dotCount = 0;
        let loadingInterval;

        function startLoadingAnimation() {
            loadingText.style.display = 'block';
            loadingInterval = setInterval(() => {
                dotCount = (dotCount + 1) % 4; // Cycle through 0 to 3
                loadingText.textContent = 'Loading' + '.'.repeat(dotCount);
            }, 500); // Update every 500ms
        }

        function stopLoadingAnimation() {
            clearInterval(loadingInterval);
            loadingText.style.display = 'none';
        }

        document.getElementById('language-select').addEventListener('change', function () {
            const language = this.value;
            if (language !== 'Choose your language:') {
                startLoadingAnimation();
                const currentDate = new Date();
                const dayOfYear = Math.floor((currentDate - new Date(currentDate.getFullYear(), 0, 0)) / 86400000);
                window.location.href = `/method/${encodeURIComponent(language)}/${dayOfYear}`;
            }
        });
    </script>
</body>
</html>
